{"ast":null,"code":"var _jsxFileName = \"/home/gilvandro/Downloads/SistemaDeGerenciamentoDeProjetosAgeis/projeto/src/containers/Home.js\";\nimport React from 'react';\nimport store from 'store';\nimport ProjectCard from '../components/ProjectCard';\nimport Header from '../components/Header';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport axios from 'axios';\n/* \n Esse são objetos fake simulando um dado que vem direto do banco\n Quando fizermos a request para listar os projetos iremos \n receber um json vindo da API com um formato similar\n*/\n\nconst projectsFake = [{\n  projectId: '1',\n  name: 'Ifood App',\n  description: 'simple app',\n  contributors: ['gilvandro', '4235', '454'],\n  managers: ['admin'],\n  started: '10/02/2019',\n  finish: '10/12/2019',\n  imageUrl: 'https://specials-images.forbesimg.com/imageserve/5db9cc76d85e3000078fb931/960x0.jpg?fit=scale'\n}, {\n  projectId: '2',\n  name: 'Desktop App',\n  contributors: ['8989', '44'],\n  description: 'simple software',\n  managers: ['admin'],\n  started: '11/06/2019',\n  finish: '11/10/2019',\n  imageUrl: 'https://www.clicdata.com/wp-content/uploads/2019/06/example-dashboard-014-1.png'\n}, {\n  projectId: '3',\n  name: 'Web site',\n  contributors: ['8989', '44'],\n  description: 'simple software',\n  managers: ['admin'],\n  started: '11/06/2019',\n  finish: '11/10/2019',\n  imageUrl: 'https://www.clicdata.com/wp-content/uploads/2019/06/example-dashboard-014-1.png'\n}];\n\nconst fetchProjects = url => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(projectsFake);\n    }, 500);\n  });\n};\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setProject = projects => {\n      this.setState({\n        projects\n      });\n    };\n\n    this.redirect = projectId => () => {\n      this.props.history.push(\"/project/\".concat(projectId));\n    };\n\n    this.logout = () => {\n      store.set('logged-token', '');\n      store.get('logged-user', '');\n      this.props.history.push('/');\n    };\n\n    this.state = {\n      projects: []\n    };\n  }\n\n  componentDidMount() {\n    fetchProjects('https://minhaapi.com/api/v2/projects').then(response => {\n      const me = store.get('logged-user');\n\n      if (me !== 'admin') {\n        const filteredData = response.filter(p => {\n          return p.contributors.includes(me);\n        });\n        this.setProject(filteredData);\n      } else {\n        this.setProject(response);\n      }\n    }).catch(e => {\n      console.log('-->>', e);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Header, {\n      logout: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(Container, {\n      maxWidth: \"sm\",\n      className: \"home-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, this.state.projects.map(project => {\n      return React.createElement(ProjectCard, Object.assign({}, project, {\n        redirect: this.redirect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }));\n    }))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/gilvandro/Downloads/SistemaDeGerenciamentoDeProjetosAgeis/projeto/src/containers/Home.js"],"names":["React","store","ProjectCard","Header","CssBaseline","Container","axios","projectsFake","projectId","name","description","contributors","managers","started","finish","imageUrl","fetchProjects","url","Promise","resolve","reject","setTimeout","Home","Component","constructor","props","setProject","projects","setState","redirect","history","push","logout","set","get","state","componentDidMount","then","response","me","filteredData","filter","p","includes","catch","e","console","log","render","map","project"],"mappings":"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","sourcesContent":["import React from 'react';\nimport store from 'store';\nimport ProjectCard from '../components/ProjectCard';\nimport Header from '../components/Header';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport axios from 'axios';\n\n/* \n Esse são objetos fake simulando um dado que vem direto do banco\n Quando fizermos a request para listar os projetos iremos \n receber um json vindo da API com um formato similar\n*/\nconst projectsFake = [\n  {\n    projectId: '1',\n    name: 'Ifood App',\n    description: 'simple app',\n    contributors: ['gilvandro', '4235', '454'],\n    managers: ['admin'],\n    started: '10/02/2019',\n    finish: '10/12/2019',\n    imageUrl: 'https://specials-images.forbesimg.com/imageserve/5db9cc76d85e3000078fb931/960x0.jpg?fit=scale',\n  },\n  {\n    projectId: '2',\n    name: 'Desktop App',\n    contributors: ['8989', '44'],\n    description: 'simple software',\n    managers: ['admin'],\n    started: '11/06/2019',\n    finish: '11/10/2019',\n    imageUrl: 'https://www.clicdata.com/wp-content/uploads/2019/06/example-dashboard-014-1.png',\n  }, \n  {\n    projectId: '3',\n    name: 'Web site',\n    contributors: ['8989', '44'],\n    description: 'simple software',\n    managers: ['admin'],\n    started: '11/06/2019',\n    finish: '11/10/2019',\n    imageUrl: 'https://www.clicdata.com/wp-content/uploads/2019/06/example-dashboard-014-1.png',\n  }\n];\n\nconst fetchProjects = (url) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(projectsFake);\n    }, 500);\n  });\n}\n\nclass Home extends React.Component { \n  constructor(props) {\n    super(props);\n    this.state = {\n      projects: [],\n    };\n  }\n\n  componentDidMount() {\n    \n    fetchProjects('https://minhaapi.com/api/v2/projects')\n    .then(response => {\n      const me = store.get('logged-user');\n      \n      if (me !== 'admin') {\n        const filteredData = response.filter(p => {\n          return p.contributors.includes(me);\n        });\n        this.setProject(filteredData);\n      } else {\n        this.setProject(response);\n      }\n    })\n    .catch((e) => {\n      \n      console.log('-->>', e)\n    });\n  }\n\n  \n  setProject = (projects) => {\n    this.setState({\n      projects,\n    });\n  }\n\n  \n  redirect = (projectId) => () => {\n    this.props.history.push(`/project/${projectId}`);\n  };\n\n  \n  logout = () => {\n    store.set('logged-token', '');\n    store.get('logged-user', '');\n    this.props.history.push('/');\n  }\n\n  \n  render() {\n    return(\n      <div>\n        <CssBaseline />\n        <Header logout={this.logout} />\n        <Container maxWidth=\"sm\" className=\"home-container\">\n          <div className=\"card-wrapper\">\n            {this.state.projects.map((project) => {\n              return <ProjectCard {...project} redirect={this.redirect} />\n            })}\n          </div>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}